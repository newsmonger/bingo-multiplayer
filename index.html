
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Multiplayer Bingo</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
      background: #121212;
      color: #f0f0f0;
    }
    h1 { text-align: center; }
    .card {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      max-width: 400px;
      margin: 20px auto;
    }
    .cell {
      background: #333;
      padding: 15px;
      border-radius: 5px;
      text-align: center;
      cursor: pointer;
      user-select: none;
    }
    .cell.marked {
      background: #4caf50;
      text-decoration: line-through;
    }
    .cell.free {
      background: #9c27b0;
      font-weight: bold;
      cursor: default;
    }
    #winPattern {
      text-align: center;
      font-weight: bold;
      margin-top: 10px;
    }
    .winner {
      text-align: center;
      font-size: 1.2em;
      color: #76ff03;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Multiplayer Bingo ðŸŽ‰</h1>
  <div id="winPattern">ðŸŽ¯ Win Pattern: Any Diagonal</div>
  <div class="card" id="bingoCard"></div>
  <div class="winner" id="winnerMsg"></div>

  <audio id="winSound" src="win-chime.mp3"></audio>
  <script>
    const squares = [
      "Beer has protein", "Talks Trump", "Grand-dogs", "Beer-ad",
      "Everyone has a price", "Vape used", "Like a sore Peter...", "FREE SPACE",
      "Trying to quit water", "Talks golf", "Grandkids (lack of)", "Chuy at drug test",
      "Last to eat", "Corina height joke", "How much too...", "Talks SPEED"
    ];

    const winPattern = [[0,5,10,15], [3,6,9,12]]; // example: diagonal (X pattern)
    const bingoCard = document.getElementById('bingoCard');
    const winnerMsg = document.getElementById('winnerMsg');
    const winSound = document.getElementById('winSound');

    let state = squares.map((label, i) => ({
      label,
      marked: label === "FREE SPACE"
    }));

    function render() {
      bingoCard.innerHTML = "";
      state.forEach((item, idx) => {
        const div = document.createElement("div");
        div.className = "cell";
        if (item.marked) div.classList.add("marked");
        if (item.label === "FREE SPACE") div.classList.add("free");
        div.textContent = item.label;
        if (item.label !== "FREE SPACE") {
          div.addEventListener("click", () => {
            item.marked = !item.marked;
            render();
            checkWin();
          });
        }
        bingoCard.appendChild(div);
      });
    }

    function checkWin() {
      const isWin = winPattern.some(pattern =>
        pattern.every(i => state[i].marked)
      );
      if (isWin) {
        winnerMsg.textContent = "ðŸŽ‰ Bingo! You win!";
        winSound.play();
        confetti();
      }
    }

    function confetti() {
      const duration = 2 * 1000;
      const animationEnd = Date.now() + duration;
      const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 2000 };

      function frame() {
        if (Date.now() < animationEnd) {
          requestAnimationFrame(frame);
          const count = 5 + Math.floor(Math.random() * 10);
          for (let i = 0; i < count; i++) {
            const particle = document.createElement("div");
            particle.style.position = "fixed";
            particle.style.width = "10px";
            particle.style.height = "10px";
            particle.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
            particle.style.top = Math.random() * 100 + "vh";
            particle.style.left = Math.random() * 100 + "vw";
            particle.style.zIndex = 9999;
            particle.style.borderRadius = "50%";
            particle.style.opacity = "1";
            document.body.appendChild(particle);
            setTimeout(() => particle.remove(), 2000);
          }
        }
      }
      frame();
    }

    render();
  </script>
</body>
</html>
